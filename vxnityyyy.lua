local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")
local Lighting = game:GetService("Lighting")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

-- Load WindUI at the start to ensure it's available globally
local success, WindUI = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/Footagesus/WindUI/main/dist/main.lua"))()
end)

if not success or not WindUI then
    warn("vxnity hub: Failed to load WindUI library.")
    return
end

-- System Loader UI
local function ShowSystemLoader(onFinished)
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "vxnitySystemLoader"
    ScreenGui.IgnoreGuiInset = true
    ScreenGui.ResetOnSpawn = false

    local ok, coreGui = pcall(function()
        return game:GetService("CoreGui")
    end)
    ScreenGui.Parent = ok and coreGui or LocalPlayer:WaitForChild("PlayerGui")

    local bg = Instance.new("Frame")
    bg.Size = UDim2.new(1, 0, 1, 0)
    bg.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    bg.BackgroundTransparency = 0
    bg.Parent = ScreenGui

    local title = Instance.new("TextLabel")
    title.Size = UDim2.new(1, 0, 0.2, 0)
    title.Position = UDim2.new(0, 0, 0.4, 0)
    title.BackgroundTransparency = 1
    title.Text = "VXNITY"
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.Font = Enum.Font.GothamBold
    title.TextScaled = true
    title.TextTransparency = 1
    title.Parent = bg

    local subtitle = Instance.new("TextLabel")
    subtitle.Size = UDim2.new(1, 0, 0.08, 0)
    subtitle.Position = UDim2.new(0, 0, 0.55, 0)
    subtitle.BackgroundTransparency = 1
    subtitle.TextColor3 = Color3.fromRGB(180, 180, 180)
    subtitle.Font = Enum.Font.Gotham
    subtitle.TextScaled = true
    subtitle.TextTransparency = 1
    subtitle.Parent = bg

    TweenService:Create(title, TweenInfo.new(0.5), {TextTransparency = 0}):Play()
    task.wait(0.3)

    local steps = {
        "Initializing",
        "Loading modules",
        "¿Kenyah?",
        "¿ Kenyah On Top ?"
    }

    for _, text in ipairs(steps) do
        subtitle.Text = text
        TweenService:Create(subtitle, TweenInfo.new(0.25), {TextTransparency = 0}):Play()
        task.wait(0.6)
        TweenService:Create(subtitle, TweenInfo.new(0.25), {TextTransparency = 1}):Play()
        task.wait(0.15)
    end

    TweenService:Create(bg, TweenInfo.new(0.4), {BackgroundTransparency = 1}):Play()
    TweenService:Create(title, TweenInfo.new(0.3), {TextTransparency = 1}):Play()

    task.wait(0.5)
    ScreenGui:Destroy()

    if onFinished then
        onFinished()
    end
end

-- Security/Clean
for i,b in pairs(workspace.FE.Actions:GetChildren()) do
    if b.Name == " " then
        b:Destroy()
    end
end

for i,b in pairs(LocalPlayer.Character:GetChildren()) do
    if b.Name == " " then
        b:Destroy()
    end
end

local a = workspace.FE.Actions
if a:FindFirstChild("KeepYourHeadUp_") then
    a.KeepYourHeadUp_:Destroy()
    local r = Instance.new("RemoteEvent")
    r.Name = "KeepYourHeadUp_"
    r.Parent = a
else
    LocalPlayer:Kick("Anti-Cheat Updated! Send a photo of this Message in our Discord Server so we can fix it.")
end

local function isWeirdName(name)
    return string.match(name, "^[a-zA-Z]+%-%d+%a*%-%d+%a*$") ~= nil
end

local function deleteWeirdRemoteEvents(parent)
    for _, child in pairs(parent:GetChildren()) do
        if child:IsA("RemoteEvent") and isWeirdName(child.Name) then
            child:Destroy()
        end
        deleteWeirdRemoteEvents(child)
    end
end

deleteWeirdRemoteEvents(game)

local function LoadVxnityHub()
    -- Debug notification
    WindUI:Notify({
        Title = "vxnity hub",
        Desc = "Loading main script...",
        Icon = "loader",
        Duration = 2
    })
    
    -- Parche para Celular
    local isMobile = UserInputService.TouchEnabled
    local windowSize = isMobile and UDim2.fromOffset(480, 380) or UDim2.fromOffset(600, 520)
    local topbarHeight = isMobile and 40 or 48
    local iconSize = isMobile and 18 or 22

    local Window = WindUI:CreateWindow({
        Title = "vxnity hub",
        Author = "vxnity team",
        Folder = "vxnityHub",
        IconSize = iconSize,
        NewElements = true,
        Size = windowSize,
        HideSearchBar = false,
        OpenButton = {
            Title = "vxnity",
            CornerRadius = UDim.new(0, 8),
            StrokeThickness = 2,
            Enabled = true,
            Draggable = true,
            OnlyMobile = false,
            Scale = 1,
            Color = ColorSequence.new(Color3.fromHex("#9d56ff"), Color3.fromHex("#7b2eff"))
        },
        Topbar = {
            Height = topbarHeight,
            ButtonsType = "Mac",
        },
    })

    do
        WindUI:AddTheme({
            Name = "vxnityPremium",
            Accent = Color3.fromHex("#9d56ff"),
            Dialog = Color3.fromHex("#080808"),
            Outline = Color3.fromHex("#1a1a1a"),
            Text = Color3.fromHex("#ffffff"),
            Placeholder = Color3.fromHex("#808080"),
            Button = Color3.fromHex("#101010"),
            Icon = Color3.fromHex("#9d56ff"),
            WindowBackground = Color3.fromHex("#030303"),
            TopbarButtonIcon = Color3.fromHex("#ffffff"),
            TopbarTitle = Color3.fromHex("#ffffff"),
            TopbarAuthor = Color3.fromHex("#9d56ff"),
            TopbarIcon = Color3.fromHex("#9d56ff"),
            TabBackground = Color3.fromHex("#050505"),
            TabTitle = Color3.fromHex("#808080"),
            TabIcon = Color3.fromHex("#9d56ff"),
            ElementBackground = Color3.fromHex("#0a0a0a"),
            ElementTitle = Color3.fromHex("#ffffff"),
            ElementDesc = Color3.fromHex("#707070"),
            ElementIcon = Color3.fromHex("#9d56ff"),
        })
        WindUI:SetTheme("vxnityPremium")
    end

    local HomeSection = Window:Section({ Title = "Information" })
    local HomeTab = HomeSection:Tab({ Title = "Home", Icon = "home" })

    HomeTab:Section({ Title = "Welcome to vxnity hub" })
    HomeTab:Paragraph({
        Title = "Script Version: 1.2.0",
        Desc = "Stable build for TPS Street Soccer"
    })
    HomeTab:Paragraph({
        Title = "User: " .. LocalPlayer.Name,
        Desc = "Rank: Premium User"
    })
    HomeTab:Section({ Title = "Updates" })
    HomeTab:Paragraph({
        Title = "Latest Update: 2026-02-01",
        Desc = "- Improved Reach\n- optimized ui\n- Fixed Loader issues"
    })

    local Main = Window:Section({ Title = "main" })
    local ReachTab = Main:Tab({ Title = "Reach", Icon = "target" })
    local MossingTab = Main:Tab({ Title = "Mossing", Icon = "wind" })
    local ReactTab = Main:Tab({ Title = "Reacts", Icon = "zap" })

    local Misc = Window:Section({ Title = "Utility & Extra" })
    local HelpersTab = Misc:Tab({ Title = "Helpers", Icon = "shield-check" })
    local AimbotTab = Misc:Tab({ Title = "Aimbot", Icon = "crosshair" })

    local reachEnabled = false
    local reachDistance = 1
    local reachConnection

    ReachTab:Section({ Title = "Leg Reach (Method A)" })

    ReachTab:Toggle({
        Title = "Active FireTouchInterest",
        Desc = "Triggers ball contact automatically",
        Callback = function(Value)
            reachEnabled = Value
            if not Value and reachConnection then
                reachConnection:Disconnect()
                reachConnection = nil
            end

            if Value then
                if reachConnection then reachConnection:Disconnect() end
                reachConnection = RunService.RenderStepped:Connect(function()
                    local player = LocalPlayer
                    local character = player and player.Character
                    local rootPart = character and character:FindFirstChild("HumanoidRootPart")
                    local humanoid = character and character:FindFirstChild("Humanoid")

                    if not (character and rootPart and humanoid) then return end
                    local tps = Workspace:FindFirstChild("TPSSystem") and Workspace.TPSSystem:FindFirstChild("TPS")
                    if not tps then return end

                    local distance = (rootPart.Position - tps.Position).Magnitude
                    if distance <= reachDistance then
                        local preferredFoot = Lighting:FindFirstChild(player.Name) and Lighting[player.Name]:FindFirstChild("PreferredFoot")
                        if preferredFoot then
                            local limbName = (humanoid.RigType == Enum.HumanoidRigType.R6)
                                and ((preferredFoot.Value == 1) and "Right Leg" or "Left Leg")
                                or ((preferredFoot.Value == 1) and "RightLowerLeg" or "LeftLowerLeg")

                            local limb = character:FindFirstChild(limbName)
                            if limb then
                                firetouchinterest(limb, tps, 0)
                                firetouchinterest(limb, tps, 1)
                            end
                        end
                    end
                end)
            end
        end
    })

    ReachTab:Slider({
        Title = "Reach Distance",
        Desc = "Adjust the activation range",
        Value = { Min = 1, Max = 15, Default = 1 },
        Callback = function(val)
            reachDistance = tonumber(val)
        end
    })

    ReachTab:Section({ Title = "Leg Reach (Method B)" })

    ReachTab:Input({
        Title = "Leg Hitbox (R6)",
        Desc = "Modifies physical size of legs",
        Value = "1",
        Callback = function(Value) 
            local v = tonumber(Value) or 1
            if LocalPlayer.Character then
                if LocalPlayer.Character:FindFirstChild("Right Leg") then
                    LocalPlayer.Character["Right Leg"].Size = Vector3.new(v, 2, v)
                    LocalPlayer.Character["Left Leg"].Size = Vector3.new(v, 2, v)
                    LocalPlayer.Character["Right Leg"].CanCollide = false
                    LocalPlayer.Character["Left Leg"].CanCollide = false
                end
                if LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    LocalPlayer.Character.HumanoidRootPart.Size = Vector3.new(v,2,v)
                    LocalPlayer.Character.HumanoidRootPart.CanCollide = false
                end
            end
        end
    })

    ReachTab:Input({
        Title = "Legs Size (R15)",
        Desc = "Minimum Size is 1",
        Value = "1",
        Callback = function(Value) 
            local v = tonumber(Value) or 1
            if LocalPlayer.Character then
                if LocalPlayer.Character:FindFirstChild("RightLowerLeg") then
                    LocalPlayer.Character["RightLowerLeg"].Size = Vector3.new(v, 2, v)
                    LocalPlayer.Character["LeftLowerLeg"].Size = Vector3.new(v, 2, v)
                    LocalPlayer.Character["RightLowerLeg"].CanCollide = false
                    LocalPlayer.Character["LeftLowerLeg"].CanCollide = false
                end
                if LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                    LocalPlayer.Character.HumanoidRootPart.Size = Vector3.new(v,2,v)
                    LocalPlayer.Character.HumanoidRootPart.CanCollide = false
                end
            end
        end
    })

    ReachTab:Button({
        Title = "Fake legs (Appear Normal)",
        Callback = function()
            local player = LocalPlayer
            local character = player.Character or player.CharacterAdded:Wait()
            local humanoid = character:WaitForChild("Humanoid")

            if humanoid.RigType == Enum.HumanoidRigType.R6 then
                character["Right Leg"].Transparency = 1
                character["Left Leg"].Transparency = 1

                character["Left Leg"].Massless = true
                local LeftLegM = Instance.new("Part", character)
                LeftLegM.Name = "Left Leg Fake"
                LeftLegM.CanCollide = false
                LeftLegM.Color = character["Left Leg"].Color
                LeftLegM.Size = Vector3.new(1, 2, 1)
                LeftLegM.Position = character["Left Leg"].Position
                
                local MotorHip = Instance.new("Motor6D", character.Torso)
                MotorHip.Part0 = character.Torso
                MotorHip.Part1 = LeftLegM
                MotorHip.C0 = CFrame.new(-1, -1, 0, 0, 0, -1, 0, 1, 0, 1, 0, 0)
                MotorHip.C1 = CFrame.new(-0.5, 1, 0, 0, 0, -1, 0, 1, 0, 1, 0, 0)

                character["Right Leg"].Massless = true
                local RightLegM = Instance.new("Part", character)
                RightLegM.Name = "Right Leg Fake"
                RightLegM.CanCollide = false
                RightLegM.Color = character["Right Leg"].Color
                RightLegM.Size = Vector3.new(1, 2, 1)
                RightLegM.Position = character["Right Leg"].Position

                local MotorHip2 = Instance.new("Motor6D", character.Torso)
                MotorHip2.Part0 = character.Torso
                MotorHip2.Part1 = RightLegM
                MotorHip2.C0 = CFrame.new(1, -1, 0, 0, 0, 1, 0, 1, -0, -1, 0, 0)
                MotorHip2.C1 = CFrame.new(0.5, 1, 0, 0, 0, 1, 0, 1, -0, -1, 0, 0)
            end
        end
    })

    local headReachEnabled = false
    local headReachSize = Vector3.new(1, 1.5, 1)
    local headTransparency = 0.5
    local headOffset = Vector3.new(0, 0, 0)
    local headBoxPart
    local headConnection

    local function updateHeadBox()
        if headBoxPart then headBoxPart:Destroy() end
        headBoxPart = Instance.new("Part")
        headBoxPart.Size = headReachSize
        headBoxPart.Transparency = headTransparency
        headBoxPart.Anchored = true
        headBoxPart.CanCollide = false
        headBoxPart.Color = Color3.fromHex("#9d56ff")
        headBoxPart.Material = Enum.Material.Neon
        headBoxPart.Name = "HeadReachBox"
        headBoxPart.Parent = Workspace
    end

    local function startHeadReach()
        if not headReachEnabled then return end
        if headConnection then headConnection:Disconnect() end
        updateHeadBox()
        headConnection = RunService.RenderStepped:Connect(function()
            local character = LocalPlayer.Character
            if not character then return end
            local head = character:FindFirstChild("Head")
            local tps = Workspace:FindFirstChild("TPSSystem") and Workspace.TPSSystem:FindFirstChild("TPS")
            if not (head and tps) then return end
            
            headBoxPart.CFrame = head.CFrame * CFrame.new(headOffset)
            
            local relative = headBoxPart.CFrame:PointToObjectSpace(tps.Position)
            if math.abs(relative.X) <= headBoxPart.Size.X / 2 
                and math.abs(relative.Y) <= headBoxPart.Size.Y / 2 
                and math.abs(relative.Z) <= headBoxPart.Size.Z / 2 then
                firetouchinterest(head, tps, 0)
                firetouchinterest(head, tps, 1)
            end
        end)
    end

    MossingTab:Toggle({
        Title = "Active Moss Reach",
        Desc = "Enable head-based interaction range",
        Callback = function(state)
            headReachEnabled = state
            if state then startHeadReach() else 
                if headConnection then headConnection:Disconnect() end
                if headBoxPart then headBoxPart:Destroy() end
            end
        end
    })

    MossingTab:Slider({
        Title = "Range X",
        Value = { Min = 0, Max = 50, Default = 1 },
        Callback = function(val)
            headReachSize = Vector3.new(val, headReachSize.Y, headReachSize.Z)
            if headReachEnabled then updateHeadBox() end
        end
    })

    MossingTab:Slider({
        Title = "Range Y",
        Value = { Min = 0, Max = 50, Default = 1.5 },
        Callback = function(val)
            headReachSize = Vector3.new(headReachSize.X, val, headReachSize.Z)
            headOffset = Vector3.new(headOffset.X, val / 2.5, headOffset.Z)
            if headReachEnabled then updateHeadBox() end
        end
    })

    MossingTab:Slider({
        Title = "Range Z",
        Value = { Min = 0, Max = 50, Default = 1 },
        Callback = function(val)
            headReachSize = Vector3.new(headReachSize.X, headReachSize.Y, val)
            if headReachEnabled then updateHeadBox() end
        end
    })

    MossingTab:Toggle({
        Title = "Stealth Mode",
        Desc = "Makes the reach box invisible",
        Callback = function(v)
            headTransparency = v and 1 or 0.5
            if headReachEnabled and headBoxPart then
                headBoxPart.Transparency = headTransparency
            end
        end
    })

    local currentReactPower = 0
    local reactHookEnabled = false

    local function enableReactHook()
        if reactHookEnabled then return end
        reactHookEnabled = true
        
        local meta = getrawmetatable(game)
        local oldNamecall = meta.namecall
        setreadonly(meta, false)
        
        meta.namecall = newcclosure(function(self, ...)
            local method = getnamecallmethod()
            if tostring(method) == "FireServer" and currentReactPower > 0 then
                local name = tostring(self)
                -- Interceptamos todas las acciones de juego para aplicar el react automáticamente
                if table.find({"Kick", "KickC1", "Tackle", "Header", "SaveRA", "SaveLA", "SaveRL", "SaveLL", "SaveT"}, name) then
                    task.spawn(function()
                        local ball = Workspace.TPSSystem:FindFirstChild("TPS")
                        if ball and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                            -- Aplicamos la fuerza instantáneamente en la dirección que mira el jugador
                            -- Esto hace que el toque sea fluido y ultra rápido
                            ball.Velocity = LocalPlayer.Character.HumanoidRootPart.CFrame.LookVector * currentReactPower
                            
                            -- Efecto visual de "impacto"
                            local h = Instance.new("SelectionBox", ball)
                            h.Adornee = ball
                            h.Color3 = Color3.fromHex("#9d56ff")
                            h.LineThickness = 0.15
                            task.delay(0.2, function() h:Destroy() end)
                        end
                    end)
                end
            end
            return oldNamecall(self, ...)
        end)
        setreadonly(meta, true)
    end

    ReactTab:Section({ Title = "Advanced Auto-Reacts" })

    ReactTab:Button({
        Title = "asolixun react ",
        Desc = "W react",
        Callback = function()
            currentReactPower = 650
            enableReactHook()
            WindUI:Notify({ Title = "React Active", Desc = "asolixun react enabled", Icon = "zap" })
        end
    })

    ReactTab:Button({
        Title = "marianito react ",
        Desc = "goated react?",
        Callback = function()
            currentReactPower = 800
            enableReactHook()
            WindUI:Notify({ Title = "React Active", Desc = "marianito react  enabled", Icon = "zap" })
        end
    })

    -- react kenyah 
    ReactTab:Button({
    Title = "React Kenyah",
    Desc = "El mejor react 200 ms",
    Callback = function()
        currentReactPower = 10000
        enableReactHook()
        WindUI:Notify({ Title = "React Active", Desc = "React Kenyah enabled", Icon = "zap" })
        -- Additional settings for improved ball control
        setBallStickiness(true)
        setBallDelay(0)
        setBallObedience(true)
        setBallVectorSpeed(2000) -- Adjust this value as needed
    end
})
    
    ReactTab:Button({
        Title = "Goalkeeper React",
        Callback = function()
            local gkActions = {"SaveRA", "SaveLA", "SaveRL", "SaveLL", "SaveT", "Tackle", "Header"}
            for _, action in ipairs(gkActions) do
                local meta = getrawmetatable(game)
                local oldNamecall = meta.namecall
                setreadonly(meta, false)
                meta.namecall = newcclosure(function(self, ...)
                    local method = tostring(getnamecallmethod())
                    if method == "FireServer" and tostring(self) == action then
                        local args = {...}
                        if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
                            args[2] = LocalPlayer.Character.Humanoid.LLCL
                            return oldNamecall(self, unpack(args))
                        end
                    end
                    return oldNamecall(self, ...)
                end)
                setreadonly(meta, true)
            end
        end
    })

    HelpersTab:Section({ Title = "Ball Visuals" })

    HelpersTab:Toggle({
        Title = "ZZZ helper",
        Desc = "Highlights the ball's position",
        Callback = function(state)
            if state then
                local part = Instance.new("Part")
                part.Name = "TPS1"
                part.Size = Vector3.new(9, 0.1, 9)
                part.Anchored = true
                part.BrickColor = BrickColor.new("Bright red")
                part.Transparency = 1 
                part.Parent = Workspace
                
                RunService.RenderStepped:Connect(function()
                    local tpsTarget = Workspace:FindFirstChild("TPSSystem") and Workspace.TPSSystem:FindFirstChild("TPS")
                    if tpsTarget and part.Parent then
                        part.Position = tpsTarget.Position - Vector3.new(0, 1, 0)
                    end
                end)
            else
                if Workspace:FindFirstChild("TPS1") then Workspace.TPS1:Destroy() end
            end
        end
    })

    HelpersTab:Section({ Title = "Air Dribble Assistance" })

    HelpersTab:Toggle({
        Title = "air dribble helper",
        Desc = "Show interaction area for air dribbling",
        Callback = function(state)
            if not state and Workspace:FindFirstChild("TPS_Air") then
                Workspace.TPS_Air:Destroy()
            end
        end
    })

    HelpersTab:Slider({
        Title = "Box Dimension",
        Value = { Min = 1, Max = 15, Default = 1 },
        Callback = function(val)
            local part = Workspace:FindFirstChild("TPS_Air") or Instance.new("Part")
            part.Name = "TPS_Air"
            part.Size = Vector3.new(val, 0.1, val)
            part.Anchored = true
            part.BrickColor = BrickColor.new("Bright red")
            part.Transparency = 1
            part.Parent = Workspace
            
            RunService.RenderStepped:Connect(function()
                local tpsTarget = Workspace:FindFirstChild("TPSSystem") and Workspace.TPSSystem:FindFirstChild("TPS")
                if tpsTarget and part.Parent then
                    part.Position = tpsTarget.Position - Vector3.new(0, 1, 0)
                end
            end)
        end
    })

    HelpersTab:Section({ Title = "Automation" })

    local followBall = true
local toggleEnabled = false

HelpersTab:Toggle({
    Title = "inf helper",
    Desc = "Character will move towards the ball automatically",
    Callback = function(state)
        toggleEnabled = state
        if not state then followBall = false end
    end
})

UserInputService.InputBegan:Connect(function(input, gp)
    if input.KeyCode == Enum.KeyCode.B and not gp and toggleEnabled then
        followBall = not followBall
    end
end)

RunService.RenderStepped:Connect(function()
    if followBall and toggleEnabled then
        local ball = Workspace.TPSSystem.TPS
        local playerChar = LocalPlayer.Character
        local humanoid = playerChar and playerChar:FindFirstChild("Humanoid")

        if humanoid and ball then
            
            

            -- Mueve al personaje hacia el balón de manera agresiva
            humanoid:MoveTo(ball.Position)

        
            local ballHeight = ball.Position.Y
            local charHeight = playerChar.PrimaryPart.Position.Y
            if math.abs(ballHeight - charHeight) > 1 then
                local newPosition = playerChar.PrimaryPart.Position
                newPosition = Vector3.new(newPosition.X, ballHeight, newPosition.Z)
                playerChar:SetPrimaryPartCFrame(CFrame.new(newPosition, playerChar.PrimaryPart.Position + lookVec))
            end

            -- Simula toques al balón para contar todos los toques
            local touch = Instance.new("TouchInterest")
            touch.Parent = ball
            touch.Touched:Connect(function(hit)
                if hit.Parent == playerChar then
                    -- Aquí puedes agregar lógica para contar los toques o aplicar efectos visuales
                    print("Toque contado")
                end
            end)
        end
    end
end)




    local isAimbotEnabled = false
    local aimbotTargetPos = Vector3.new(0, 14, 157)
    local laser = Instance.new("Part")
    laser.Name = "vxnity hub aimbot"
    laser.Anchored = true
    laser.CanCollide = false
    laser.Material = Enum.Material.Neon
    laser.Color = Color3.fromHex("#9d56ff")
    laser.Transparency = 1 
    laser.Size = Vector3.new(0.05, 0.05, 1) 
    laser.Parent = Workspace

    local function toggleAimbot(state)
        isAimbotEnabled = state
        laser.Transparency = isAimbotEnabled and 0.4 or 1
    end

    RunService:BindToRenderStep("vxnityAimbotLoop", Enum.RenderPriority.Camera.Value + 1, function()
        local char = LocalPlayer.Character
        local hrp = char and char:FindFirstChild("HumanoidRootPart")
        local torso = char and (char:FindFirstChild("UpperTorso") or char:FindFirstChild("Torso"))
        
        if isAimbotEnabled and hrp and torso then
            local hrpPos = hrp.Position
            local lookTarget = Vector3.new(aimbotTargetPos.X, hrpPos.Y, aimbotTargetPos.Z)
            hrp.CFrame = CFrame.lookAt(hrpPos, lookTarget)
            
            local startPos = torso.Position + Vector3.new(0, 0.8, 0) 
            local distance = (aimbotTargetPos - startPos).Magnitude
            laser.Size = Vector3.new(0.05, 0.05, distance)
            laser.CFrame = CFrame.lookAt(startPos, aimbotTargetPos) * CFrame.new(0, 0, -distance/2)
        end
    end)

    AimbotTab:Section({ Title = "Aimbot Settings" })

    local AimbotToggle = AimbotTab:Toggle({
        Title = "Enable / Disable Aimbot",
        Callback = function(state)
            toggleAimbot(state)
        end
    })

    AimbotTab:Keybind({
        Title = "Aimbot Keybind",
        Default = Enum.KeyCode.R,
        Callback = function()
            local newState = not isAimbotEnabled
            AimbotToggle:Set(newState) 
        end
    })

    WindUI:Notify({
        Title = "vxnity hub",
        Desc = "Welcome back! Script loaded successfully.",
        Icon = "check",
        Duration = 4
    })
end

-- Execution Entry Point
ShowSystemLoader(function()
    task.wait(0.1) -- Parche de seguridad para asegurar limpieza de UI
    LoadVxnityHub()
end)
